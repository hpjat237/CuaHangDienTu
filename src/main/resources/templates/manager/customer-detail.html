<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.w3.org/1999/xhtml"
      layout:decorate="~{admin/layout-admin.html}">
<head>
    <title>Chi tiết khách hàng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<section class="container mt-4" layout:fragment="app-content">

    <div class="container mt-4">
        <h2 class="text-center mb-4">Chi tiết khách hàng</h2>

        <!-- Thông tin khách hàng -->
        <div class="mb-4">
            <h4>Thông tin khách hàng</h4>
            <table class="table table-bordered">
                <tr>
                    <th>Tên</th>
                    <td th:text="${customer.fullname}"></td>
                </tr>
                <tr>
                    <th>Số điện thoại</th>
                    <td th:text="${customer.phone}"></td>
                </tr>
                <tr>
                    <th>Email</th>
                    <td th:text="${customer.email}"></td>
                </tr>
                <tr>
                    <th>Trạng thái</th>
                    <td>
                    <span th:text="${customer.active ? 'Đang hoạt động' : 'Đã vô hiệu hoá'}"
                          th:classappend="${customer.active ? 'text-success' : 'text-danger'}"></span>
                    </td>
                </tr>
            </table>
        </div>

        <!-- Danh sách đơn hàng của khách hàng -->
        <div>
            <h4>Danh sách đơn hàng</h4>
            <table class="table table-striped table-bordered">
                <thead class="table-dark">
                <tr>
                    <th>STT</th>
                    <th>Mã đơn hàng</th>
                    <th>Ngày đặt</th>
                    <th>Trạng thái</th>
                    <th>Tổng tiền</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="order, iterStat : ${orders}">
                    <td th:text="${iterStat.index + 1}"></td>
                    <td th:text="${order.orderId}"></td>
                    <td th:text="${order.orderDate}"></td>
                    <td th:text="${order.orderStatus}"></td>
                    <td th:text="${order.total}"></td>
                </tr>
                </tbody>
            </table>
        </div>

        <!-- Back button -->
        <div class="mt-4">
            <a href="/admin/customers" class="btn btn-secondary">Quay lại danh sách khách hàng</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</section>
</body>
</html>
